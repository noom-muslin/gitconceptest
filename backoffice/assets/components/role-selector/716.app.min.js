"use strict";(self.webpackChunk_dev_roles_selector=self.webpackChunk_dev_roles_selector||[]).push([[716],{745:(e,o,l)=>{var n=l(56);o.createRoot=n.createRoot,o.hydrateRoot=n.hydrateRoot},4716:(e,o,l)=>{l.r(o);var n=l(2747),t=l.n(n),r=l(745),i=l(7024),s=l(3106),a=l(9543);const d=e=>{var o;const l=null===(o=null==e?void 0:e.split("/"))||void 0===o?void 0:o.filter(Boolean);return(null==l?void 0:l.length)>0?"/"+l[0]:""},u=(e,o)=>{var l;for(let n in o)if((null===(l=null==o?void 0:o[n])||void 0===l?void 0:l.link)===e)return o[n];return null};class c extends t().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,o){console.error("ErrorBoundary caught an error",e,o)}render(){return this.state.hasError?t().createElement("h1",null,"Something went wrong."):this.props.children}}const v=({options:e,zboConfig:o,config:l})=>{var r;const v=null!==(r=null==e?void 0:e.mapping)&&void 0!==r?r:{},{selectedRole:m,selectRole:f}=(e=>{var o;const[l,t]=(e=>{var o;const l=d(null===(o=null===window||void 0===window?void 0:window.location)||void 0===o?void 0:o.pathname),t=u(l,e);return(0,n.useState)(null==t?void 0:t.label)})(e),r=d(null===(o=null===window||void 0===window?void 0:window.location)||void 0===o?void 0:o.pathname);return(0,n.useEffect)((()=>{if(r){const o=u(r,e),l=((e,o)=>{for(const[l,n]of Object.entries(e))if((null==n?void 0:n.label)===o)return l})(e,null==o?void 0:o.label);t(l)}}),[r]),{selectedRole:l,selectRole:t}})(v),g=(0,a.useNavigate)();if(!(null==e?void 0:e.mapping)||!(null==l?void 0:l.user)||!(null==l?void 0:l.users))return t().createElement("div",null,"Wrong configuration. Please provide mapping or zboConfig or config");const p=(({zboConfig:e})=>{var o,l,n,t;const r=null===(o=null==e?void 0:e.user)||void 0===o?void 0:o.login,i=null!==(t=null===(n=null===(l=null==e?void 0:e.users)||void 0===l?void 0:l.find((e=>(null==e?void 0:e.name)===r)))||void 0===n?void 0:n.orgs)&&void 0!==t?t:[];return null==i?void 0:i.map((e=>e[(null==e?void 0:e.length)-1]))})({zboConfig:null!=o?o:l}),h=(E=Object.keys(v),w=p,null==E?void 0:E.filter((e=>null==w?void 0:w.includes(e))));var E,w;return t().createElement(c,null,t().createElement(i.FormControl,{"data-testid":"roles-selector-form-control",sx:{m:1,minWidth:120},size:"small"},t().createElement(s.Z,{"data-testid":"roles-selector-select",labelId:"roles-selector",id:"roles-selector",value:m,onChange:e=>{const o=e.target.value;f(o),(e=>{var o;g(null===(o=null==v?void 0:v[e])||void 0===o?void 0:o.link)})(o)},sx:{background:"#fff",color:"#000"}},h.length?h.map((e=>t().createElement(i.MenuItem,{"data-testid":"roles-selector-menu-item",key:e,value:e},v[e].label))):t().createElement(i.MenuItem,{"data-testid":"roles-selector-menu-item",value:"no-options"},"No options"))))};r.createRoot(document.getElementById("root")).render(t().createElement(t().StrictMode,null,t().createElement((function(e){return t().createElement("div",{className:"App"},t().createElement(v,Object.assign({},e)))}),null)))}}]);