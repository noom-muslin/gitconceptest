"use strict";(self.webpackChunk_dev_roles_selector=self.webpackChunk_dev_roles_selector||[]).push([[321],{3476:(e,o,l)=>{l.d(o,{J:()=>s});var n=l(241),t=l(7798),r=l(2359),i=l(2747);const s=e=>{var o;const[l,s]=(e=>{var o;const l=(0,n.P)(null===(o=null===window||void 0===window?void 0:window.location)||void 0===o?void 0:o.pathname),r=(0,t.s)(l,e);return(0,i.useState)(null==r?void 0:r.label)})(e),d=(0,n.P)(null===(o=null===window||void 0===window?void 0:window.location)||void 0===o?void 0:o.pathname);return(0,i.useEffect)((()=>{if(d){const o=(0,t.s)(d,e),l=(0,r.U)(e,null==o?void 0:o.label);s(l)}}),[d]),{selectedRole:l,selectRole:s}}},6321:(e,o,l)=>{l.r(o),l.d(o,{default:()=>v});var n=l(2747),t=l.n(n),r=l(7024),i=l(3106),s=l(9543),d=l(2837),u=l(5807),a=l(3476);class c extends t().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,o){console.error("ErrorBoundary caught an error",e,o)}render(){return this.state.hasError?t().createElement("h1",null,"Something went wrong."):this.props.children}}const v=({options:e,zboConfig:o,config:l})=>{var n;const v=null!==(n=null==e?void 0:e.mapping)&&void 0!==n?n:{},{selectedRole:m,selectRole:f}=(0,a.J)(v),g=(0,s.useNavigate)();if(!(null==e?void 0:e.mapping)||!(null==l?void 0:l.user)||!(null==l?void 0:l.users))return t().createElement("div",null,"Wrong configuration. Please provide mapping or zboConfig or config");const p=(0,d.D)({zboConfig:null!=o?o:l}),h=(0,u.M)(Object.keys(v),p);return t().createElement(c,null,t().createElement(r.FormControl,{"data-testid":"roles-selector-form-control",sx:{m:1,minWidth:120},size:"small"},t().createElement(i.Z,{"data-testid":"roles-selector-select",labelId:"roles-selector",id:"roles-selector",value:m,onChange:e=>{const o=e.target.value;f(o),(e=>{var o;g(null===(o=null==v?void 0:v[e])||void 0===o?void 0:o.link)})(o)},sx:{background:"#fff",color:"#000"}},h.length?h.map((e=>t().createElement(r.MenuItem,{"data-testid":"roles-selector-menu-item",key:e,value:e},v[e].label))):t().createElement(r.MenuItem,{"data-testid":"roles-selector-menu-item",value:"no-options"},"No options"))))}},2837:(e,o,l)=>{l.d(o,{D:()=>n});const n=({zboConfig:e})=>{var o,l,n,t;const r=null===(o=null==e?void 0:e.user)||void 0===o?void 0:o.login,i=null!==(t=null===(n=null===(l=null==e?void 0:e.users)||void 0===l?void 0:l.find((e=>(null==e?void 0:e.name)===r)))||void 0===n?void 0:n.orgs)&&void 0!==t?t:[];return null==i?void 0:i.map((e=>e[(null==e?void 0:e.length)-1]))}},5807:(e,o,l)=>{l.d(o,{M:()=>n});const n=(e,o)=>null==e?void 0:e.filter((e=>null==o?void 0:o.includes(e)))},7798:(e,o,l)=>{l.d(o,{s:()=>n});const n=(e,o)=>{var l;for(let n in o)if((null===(l=null==o?void 0:o[n])||void 0===l?void 0:l.link)===e)return o[n];return null}},241:(e,o,l)=>{l.d(o,{P:()=>n});const n=e=>{var o;const l=null===(o=null==e?void 0:e.split("/"))||void 0===o?void 0:o.filter(Boolean);return(null==l?void 0:l.length)>0?"/"+l[0]:""}},2359:(e,o,l)=>{l.d(o,{U:()=>n});const n=(e,o)=>{for(const[l,n]of Object.entries(e))if((null==n?void 0:n.label)===o)return l}}}]);